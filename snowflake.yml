definition_version: 2

project_definition:
  name: snowflake-finops-app
  version: "1.0.0"
  
# SQL Scripts deployment configuration
sql:
  directories:
    - sql/

# Streamlit app configuration  
streamlit:
  - name: finops-app
    stage: finops_stage
    query_warehouse: compute_wh
    main_file: app/streamlit_app.py
    pages_dir: app/pages/
    additional_source_files:
      - app/utils.py
      - app/finops.py
      - app/recommendations.py
      - app/cortex_nlp.py

# Environment configuration
environments:
  prod:
    account: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_ACCOUNT }}"
    user: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_USER }}"
    password: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_PASSWORD }}"
    role: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_ROLE }}"
    warehouse: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_WAREHOUSE }}"
    database: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_DATABASE }}"
    schema: "{{ env.SNOWFLAKE_CONNECTIONS_DEFAULT_SCHEMA }}"