definition_version: 2

project_definition:
  name: snowflake-finops-app
  version: "1.0.0"
  
# SQL Scripts deployment configuration
sql:
  directories:
    - sql/

# Streamlit app configuration  
streamlit:
  - name: finops-app
    stage: finops_stage
    query_warehouse: "{{ env.SNOWFLAKE_WAREHOUSE }}"
    main_file: app/streamlit_app.py
    pages_dir: app/pages/
    additional_source_files:
      - app/utils.py
      - app/finops.py
      - app/recommendations.py
      - app/cortex_nlp.py

# Environment configuration
environments:
  prod:
    account: "{{ env.SNOWFLAKE_ACCOUNT }}"
    user: "{{ env.SNOWFLAKE_USER }}"
    private_key_path: "{{ env.SNOWFLAKE_PRIVATE_KEY_PATH }}"
    private_key_passphrase: "{{ env.SNOWFLAKE_PRIVATE_KEY_PASSPHRASE }}"
    role: "{{ env.SNOWFLAKE_ROLE }}"
    warehouse: "{{ env.SNOWFLAKE_WAREHOUSE }}"
    database: "{{ env.SNOWFLAKE_DATABASE }}"
    schema: "{{ env.SNOWFLAKE_SCHEMA }}"